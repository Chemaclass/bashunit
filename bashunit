#!/bin/bash

readonly BASH_UNIT_ROOT_DIR="$(dirname "${BASH_SOURCE[0]}")"

set -o allexport
source .env set
set +o allexport

if [[ -z "$PARALLEL_RUN" ]]; then
  PARALLEL_RUN=true
fi

source "$BASH_UNIT_ROOT_DIR/src/check_os.sh"

# Load color configuration
source "$BASH_UNIT_ROOT_DIR/src/colors.sh"

# Load all assert functions
source "$BASH_UNIT_ROOT_DIR/src/assert.sh"

# Load results to the TTY
source "$BASH_UNIT_ROOT_DIR/src/console_results.sh"

# Execute the test runner
source "$BASH_UNIT_ROOT_DIR/src/test_runner.sh" "$@"

exit 0