name: Add contributors
on:
  schedule:
    - cron:  '0 0 * * 0'
  push:
    branches:
      - main

jobs:
  add-contributors:
    permissions: write-all
    runs-on: ubuntu-latest
    steps:
      - uses: wow-actions/contributors-list@v1
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          round: true
          svgPath: docs/public/contributors.svg
          svgWidth: 760
          avatarSize: 100
          avatarMargin: 10
          userNameHeight: 26
          itemTemplate: >
            <g transform="translate({{ x }}, {{ y }})">
              <a xlink:href="{{{ url }}}" class="contributor-link" target="_blank" rel="nofollow sponsored" title="{{{ name }}}" id="{{{ name }}}">
                <image width="{{ width }}" height="{{ height }}" xlink:href="{{{ avatar }}}" />
                <text x="50" y="116" text-anchor="middle" alignment-baseline="middle" font-size="16" font-family="sans-serif">{{{ name }}}</text>
              </a>
            </g>
          commitMessage: 'docs: update contributors'

